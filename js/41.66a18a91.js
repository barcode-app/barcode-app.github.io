"use strict";(globalThis["webpackChunkquasar_barcode"]=globalThis["webpackChunkquasar_barcode"]||[]).push([[41],{4533:(e,a,t)=>{function o(e,a,t){return e?`${a} ${t}`:a}t.d(a,{y:()=>o})},9482:(e,a,t)=>{t.d(a,{n:()=>d});var o=t(587),s=t(8993);const l="barcode-db-v1",n="barcode-db",d=(0,o.nY)(l,{state:()=>({_loaded:!1,_barcodes:new Array}),getters:{barcodes:e=>{if(!e._loaded){const a=s.A.getItem(l);if(e._barcodes=null!==a?a:new Array,e._loaded=!0,null!==s.A.getItem(n)){const a=JSON.parse(s.A.getItem(n)+"");a.barCodes.forEach((a=>{e._barcodes.push({caption:a.caption,barcode:a.barCode,expended:!1})})),s.A.removeItem(n),s.A.set(l,e._barcodes)}}return e._barcodes}},actions:{save(){s.A.set(l,this._barcodes)},add(e){this._barcodes.push(e),this.save()},update(e,a){this._barcodes[a]=Object.assign({},e),this.save()},delete(e){return e>=0&&e<this._barcodes.length?(this._barcodes.splice(e,1),this.save(),!0):(console.error("Index out of range"),!1)},restore(e){this._barcodes=e,this.save()},reset(){this._barcodes=[],this.save()}}})},614:(e,a,t)=>{t.d(a,{C:()=>r});var o=t(587),s=t(8993),l=t(3537);const n="settings-db-v2",d=()=>({locale:"zh-TC",type:"barcode",systemAdmin:!1,barcodePageDebug:!1,barcodeEditPageDebug:!1,settingsPageDebug:!1,sharePageDebug:!1}),i=()=>{const{locale:e}=(0,l.s9)({useScope:"global"}),a=s.A.getItem(n),t=a||d();return e.value=t.locale,t},r=(0,o.nY)(n,{state:()=>({settings:i(),lang:(0,l.s9)({useScope:"global"})}),actions:{updateSettings(){this.settings.locale!==this.lang.locale&&(this.lang.locale=this.settings.locale),s.A.set(n,this.settings)},restore(e){this.settings=e,this.updateSettings()},reset(){this.settings=d(),this.updateSettings()}}})},9041:(e,a,t)=>{t.r(a),t.d(a,{default:()=>D});var o=t(1758),s=t(8790),l=t(8734),n=t(455),d=t(4533),i=t(9482),r=t(9270),c=t(4907),u=t(3537),b=t(614),p=t(587);const g=e=>((0,o.Qi)("data-v-ca00857a"),e=e(),(0,o.jt)(),e),m=g((()=>(0,o.Lk)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"},null,-1))),v={class:"row q-pa-xs"},_={class:"q-pa-md"},h=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," id_card ",-1))),y=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," phone ",-1))),k=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," barcode ",-1))),f=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," tag ",-1))),R=g((()=>(0,o.Lk)("span",{class:"material-symbols-outlined"}," notes ",-1))),A=(0,o.pM)({__name:"codeEditComponent",setup(e){const a=(0,b.C)(),{settings:t}=(0,p.bP)(a),{t:g}=(0,u.s9)(),A=(0,c.A)(),C=(0,n.rd)(),E=(0,n.lq)(),q=(0,i.n)(),V=t.value.barcodePageDebug;let w=!1;const L=(0,l.KR)(),S=(0,l.KR)(),x=E.query.id?parseInt(E.query.id.toString(),10):-1;let I={caption:"",barcode:"",expended:!1};-1===x?w=!0:I=Object.assign({},q.barcodes[x]);const O=(0,l.KR)(I);let P=JSON.stringify(O.value);const D=()=>{var e,a,t,o;if(V&&console.log("onSaveButtonClick"),P===JSON.stringify(O.value))A.notify({type:"warning",position:"center",message:g("barcodeEdit_save_warning_message")});else{if(null===(e=L.value)||void 0===e||e.validate(),null===(a=S.value)||void 0===a||a.validate(),(null===(t=L.value)||void 0===t?void 0:t.hasError)||(null===(o=S.value)||void 0===o?void 0:o.hasError))return void A.notify({type:"warning",position:"center",message:"Please clear all error before save..."});w?q.add(O.value):q.update(O.value,x),A.notify({type:"positive",position:"center",message:g("barcodeEdit_notify_RecordUpdated")}),P=JSON.stringify(O.value),C.push("/barcode")}},F=()=>{V&&console.log("onDeleteButtonClick"),A.dialog({title:g("barcodeEdit_comfirmation_title"),message:g("barcodeEdit_delete_confirmation"),cancel:{label:g("button_caption_cancel"),push:!0},ok:{label:g("button_caption_delete")},persistent:!0}).onOk((()=>{q.delete(x),A.notify({type:"positive",position:"center",message:g("barcodeEdit_notify_RecordDeleted")}),C.push("/barcode")})).onCancel((()=>{})).onDismiss((()=>{}))},Q=()=>{V&&console.log("onCloseButtonClick"),C.push("/barcode")};function B(){return new Promise(((e,a)=>{A.dialog({title:g("barcodeEdit_comfirmation_title"),message:g("barcodeEdit_unsave_warning_message"),cancel:{label:g("button_caption_cancel")},ok:{label:g("button_caption_yes")}}).onOk((()=>{e(!0)})).onCancel((()=>{a()})).onDismiss((()=>{}))}))}return(0,n.JZ)(((e,a,t)=>{P!==JSON.stringify(O.value)?B().then((()=>t())).catch((()=>!1)):t()})),(e,a)=>{const t=(0,o.g2)("q-btn"),n=(0,o.g2)("q-select");return(0,o.uX)(),(0,o.CE)(o.FK,null,[m,(0,o.Lk)("div",v,[(0,o.Lk)("div",{class:(0,s.C4)((0,l.R1)(d.y)((0,l.R1)(V),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,l.R1)(w)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(t,{key:0,color:"red",icon:"delete",round:"",onClick:F,class:"q-mr-xs"}))],2),(0,o.Lk)("div",{class:(0,s.C4)((0,l.R1)(d.y)((0,l.R1)(V),"col text-h3 text-center text-capitalize","bg-blue-3"))},(0,s.v_)((0,l.R1)(w)?(0,l.R1)(g)("barcodeEdit_add"):(0,l.R1)(g)("barcodeEdit_update")),3),(0,o.Lk)("div",{class:(0,s.C4)((0,l.R1)(d.y)((0,l.R1)(V),"col-md-auto q-pa-sm x-v-align-middle","bg-red-3"))},[(0,o.bF)(t,{color:"green",icon:"close",round:"",onClick:Q,class:"q-mr-md"}),(0,l.R1)(w)?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.Wv)(t,{key:0,color:"green",icon:"save_as",round:"",onClick:D,class:"q-mr-xs"})),(0,l.R1)(w)?((0,o.uX)(),(0,o.Wv)(t,{key:1,color:"green",icon:"save",round:"",onClick:D,class:"q-mr-xs"})):(0,o.Q3)("",!0)],2)]),(0,o.Lk)("div",_,[(0,o.bF)((0,l.R1)(r.A),{outlined:"","bottom-slots":"",clearable:"",modelValue:O.value.caption,"onUpdate:modelValue":a[0]||(a[0]=e=>O.value.caption=e),ref_key:"captionControl",ref:L,rules:[e=>!!e||(0,l.R1)(g)("barcodeEdit_item_validate_message")],label:(0,l.R1)(g)("barcodeEdit_item")},{prepend:(0,o.k6)((()=>[h])),_:1},8,["modelValue","rules","label"]),(0,o.bF)((0,l.R1)(r.A),{outlined:"","bottom-slots":"",clearable:"",modelValue:O.value.phone,"onUpdate:modelValue":a[1]||(a[1]=e=>O.value.phone=e),label:(0,l.R1)(g)("barcodeEdit_phone")},{prepend:(0,o.k6)((()=>[y])),_:1},8,["modelValue","label"]),(0,o.bF)((0,l.R1)(r.A),{outlined:"","bottom-slots":"",clearable:"",modelValue:O.value.barcode,"onUpdate:modelValue":a[2]||(a[2]=e=>O.value.barcode=e),ref_key:"captionBarcode",ref:S,rules:[e=>!!e||(0,l.R1)(g)("barcodeEdit_barcode_validate_message")],label:(0,l.R1)(g)("barcodeEdit_barcode")},{prepend:(0,o.k6)((()=>[k])),_:1},8,["modelValue","rules","label"]),(0,o.bF)(n,{outlined:"","bottom-slots":"",clearable:"","emit-value":"","map-options":"",dense:"","label-slot":"","use-input":"","use-chips":"",multiple:"","hide-dropdown-icon":"","input-debounce":"0","new-value-mode":"add-unique",modelValue:O.value.tags,"onUpdate:modelValue":a[3]||(a[3]=e=>O.value.tags=e),label:"Tags",hint:"Enter tag here and press enter...","hide-hint":""},{prepend:(0,o.k6)((()=>[f])),_:1},8,["modelValue"]),(0,o.bF)((0,l.R1)(r.A),{"lazy-rules":"",outlined:"","bottom-slots":"",dense:"",clearable:"",modelValue:O.value.notes,"onUpdate:modelValue":a[4]||(a[4]=e=>O.value.notes=e),label:"Notes",type:"textarea"},{prepend:(0,o.k6)((()=>[R])),_:1},8,["modelValue"])])],64)}}});var C=t(2807),E=t(1693),q=t(7582),V=t(8582),w=t.n(V);const L=(0,C.A)(A,[["__scopeId","data-v-ca00857a"]]),S=L;w()(A,"components",{QBtn:E.A,QInput:r.A,QSelect:q.A});const x={class:"item"},I=(0,o.pM)(Object.assign({name:"BarcodePage"},{__name:"barcodeEditPage",setup(e){return(e,a)=>{const t=(0,o.g2)("q-page");return(0,o.uX)(),(0,o.Wv)(t,{class:"row content-container"},{default:(0,o.k6)((()=>[(0,o.Lk)("div",x,[(0,o.bF)(S)])])),_:1})}}}));var O=t(7716);const P=(0,C.A)(I,[["__scopeId","data-v-5a5385d4"]]),D=P;w()(I,"components",{QPage:O.A})}}]);